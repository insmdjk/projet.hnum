<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="http://www.tal.univ-paris3.fr/plurital/logo.ico">
    <title>Lecture des données dans un fichier...</title>
    <script type="text/javascript" language="javascript" src="../js/code.js"></script>
    <link rel="stylesheet" href="../css/monstyle.css" />
</head>

<body>
    <div id="page">
        <div id="container">
            <h1 style="text-align:center;">Analyse des <span style="color:green">données</span> dans un fichier</h1>

            <div id="page-wrapper">
                <div>
                    <span>
                        <label for="fileInput" class="btn"><small>Sélectionner un fichier au format .txt
                                :</small></label>
                        <input id="fileInput" type="file" accept="text/plain" name="Fichier (.txt)" />
                    </span>
                </div>
                <br />
                <p style="text-align:center;">
                    <small>
                        <label for="delimID" class="mylabel">Délimiteur(s)</label>
                        &nbsp;
                        <input type="text" value=" ,;’'~|&#@=`-.?!%*$()[]{}_:+«»§\/" name="delim" id="delimID" size="40" />
                    </small>
                    <br />
                    <small>
                        <label for="poleID" class="mylabel">Pôle</label>
                        &nbsp;
                        <input type="text" placeholder="entrez un pôle..." name="pole" id="poleID" size="20" />
                    </small>
                    &nbsp;
                    <small>
                        <label for="lgID" class="mylabel">Longueur</label>
                        &nbsp;
                        <input type="text" value="10" name="lg" id="lgID" size="10" />
                    </small>
                    <br />
                    <br />
                    <button onclick="alert('bonjour');"><span>Bonjour</span></button>
                    <br />
                    <br />
                    <button class="submit" onclick="alert('Je ne fais rien, changez-moi !');"><span>Segmentation</span></button>
                    <button class="submit" onclick="alert('Je ne fais rien, changez-moi !');"><span>action 1</span></button>
                    <button class="submit" onclick="alert('Je ne fais rien, changez-moi !')"><span>action 2</span></button>
                    <button class="submit" onclick="alert('Je ne fais rien, changez-moi !')"><span>action 3</span></button>
                    <button class="submit" onclick="alert('Je ne fais rien, changez-moi !')"><span>action 4</span></button>
                    <button class="submit" onclick="alert('Je ne fais rien, changez-moi !')"><span>action 5</span></button>
                    <button class="submit" onclick="alert('Je ne fais rien, changez-moi !')"><span>action 6</span></button>
                </p>
            </div>
            <div id="logger" style="width:100%"></div>
            <br />
            <div id="Global">
                <div id="fileDisplayArea"></div>
                <div id="page-analysis"> 
                 <p>Le nombre total de mots dans le texte est : <span id="total-words"></span>.</p>
    <table id="word-table">
        <thead>
            <tr>
                <th>Mot</th>
                <th>Longueur</th>
            </tr>
        </thead>
        <tbody>    
        </tbody>
    </table>
</div>
<div>               
// le texte intégral du poem
<var poem> = "Mais il faut triompher du temps et de l'espace,
Arriver ou mourir. Les marchands sont jaloux.
L'or pleut sous les chardons de la vapeur qui passe,
Le moment et le but sont l'univers pour nous.
Tous se sont dit : " Allons ! " Mais aucun n'est le maître
Du dragon mugissant qu'un savant a fait naître ;
Nous nous sommes joués à plus fort que nous tous.

Eh bien ! que tout circule et que les grandes causes
Sur des ailes de feu lancent les actions,
Pourvu qu'ouverts toujours aux généreuses choses,
Les chemins du vendeur servent les passions.
Béni soit le Commerce au hardi caducée, ";</var poem>

// Diviser le poem en mots distincts
<var words >= text.split(/\s+/);
    </var words>

// Le nombre total de mots
document.getElementById('total-words').textContent = words.length;

// Créer un tableau avce les mots et les trier par longueur croissante
<var wordLengths >= words.map(function(word) {
    return { word: word, length: word.length };
});
wordLengths.sort(function(a, b) {
    return a.length - b.length;
});</var wordLenghts>

// Mettre à jour le tableau avec les mots triés
<var tableBody> = document.getElementById('word-table').getElementsByTagName('tbody')[0];
wordLengths.forEach(function(pair) {
    <var>row = tableBody.insertRow();
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    cell1.textContent = pair.word;
    cell2.textContent = pair.length;
    </var tableBody
        </var> 
});
 </div>                
